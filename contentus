#!/usr/bin/php
<?php

require_once __DIR__ . "/commands/Controller/ControllerCommands.php";
require_once __DIR__ . "/commands/UserInputOutput.php";
require_once __DIR__ . "/commands/RouteConfigHandler.php";
require_once __DIR__ . "/commands/TextHandler.php";
require_once __DIR__ . "/commands/ContentusConfigHandler.php";
require_once __DIR__ . "/commands/errors/InOutException.php";


$controllerCommands = new ControllerCommands();
$userInputOutput = new UserInputOutput();
$textHandler = new TextHandler();

$texts = $textHandler->getTextsByLang();


$controllerType = $userInputOutput->askUserForInput($texts['questions']['CONTROLLER_KIND']);

$controllerName = $userInputOutput->askUserForInput($texts['questions']['CONTROLLER_NAME']);

try
{
    switch ($controllerType) {
        case "t":
            $controllerCommands->createTwigController($controllerName);
            break;

        case "h":
            $controllerCommands->createHtmlController($controllerName);
            break;

        default:
            throw new InOutException($texts['errors']['INPUT_ERROR']);
    }
}
catch (InOutException $exception)
{
    $userInputOutput->inputErrorHandling($exception);
}

