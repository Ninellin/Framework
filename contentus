#!/usr/bin/php
<?php

use Commands\deleteCommands\DeleteCommandsMain;
use Commands\editCommands\EditCommandsMain;
use Commands\errors\FileException;
use Commands\errors\InOutException;
use Commands\makeCommands\MakeCommandsMain;
use Commands\TextHandler;
use Commands\UserInputOutput;
use Commands\UserInputParser;


require_once __DIR__.'/vendor/autoload.php';

$diContainer = new \DI\Container();

$userInputOutput = $diContainer->get(UserInputOutput::class);
$textHandler = $diContainer->get(TextHandler::class);
$inputParser = $diContainer->get(UserInputParser::class);
$makeCommandsMain = $diContainer->get(MakeCommandsMain::class);
$deleteCommandsMain = $diContainer->get(DeleteCommandsMain::class);
$editCommandsMain = $diContainer->get(EditCommandsMain::class);

$texts = $textHandler->getTextsByLang();

try {
    if (isset($argv[1])) {
        $inputParser->parseUserInput($argv[1]);
    }
}catch (InOutException | FileException $ex)
{
    $userInputOutput->inputErrorHandling($ex);
}
